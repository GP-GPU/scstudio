/* remove some time intervals in HMSC, otherwise same as complete.mpr */

mscdocument complete.vsd;
msc Page_1;
initial connect L0;
L0: reference A connect L1;
L1: connect L2, L3;
L2: reference C connect L4;
L3: reference B time [1];
 connect L5;
L4: reference D connect L5;
L5: connect L6;
L6: final;
endmsc;
msc A;
inst PC;
inst Router;
inst Server;
PC: instance;
label e0;
out c,0 to Router;
time e1 [0,1);
endinstance;
Router: instance;
concurrent;
label e1;
in c,0 from PC;
label e2;
out a,1 to Server before e3;
time e3 [1,2];
label e3;
out b,2 to Server;
endconcurrent;
endinstance;
Server: instance;
in a,1 from Router;
in b,2 from Router;
endinstance;
endmsc;
msc B;
inst PC;
inst Router;
inst Server;
PC: instance;
in c,0 from Server;
out b,1 to Router;
endinstance;
Router: instance;
in c,2 from Server;
in b,1 from PC;
endinstance;
Server: instance;
concurrent;
out c,2 to Router;
out c,0 to PC;
endconcurrent;
endinstance;
endmsc;
msc C;
inst PC;
inst Router;
inst Server;
PC: instance;
out a,0 to Router;
out a,1 to Router;
endinstance;
Router: instance;
in a,0 from PC;
in b,2 from Server;
in a,1 from PC;
endinstance;
Server: instance;
out b,2 to Router;
endinstance;
endmsc;
msc D;
inst PC;
inst Router;
inst Server;
PC: instance;
in b,0 from Router;
out c,1 to Router;
endinstance;
Router: instance;
concurrent;
in a,2 from Server;
in a,3 from Server;
in b,4 from Server;
out b,0 to PC;
endconcurrent;
in c,1 from PC;
endinstance;
Server: instance;
concurrent;
out a,2 to Router;
out a,3 to Router;
out b,4 to Router;
endconcurrent;
endinstance;
endmsc;
